"use strict";window.addEventListener("load",(function(){!function(){var e=document.getElementById("playingField"),o=document.getElementById("activeScreen"),r=document.getElementById("menuGame"),t=document.getElementById("optionPage"),a=document.getElementById("bugSpecification"),s=document.getElementById("countlevels"),i=document.getElementById("GameOver"),l=document.getElementById("creepBug1"),n=document.getElementById("creepBug2"),d=document.getElementById("creepBug3"),f=document.getElementById("creepBug4"),c=document.getElementById("bugDead"),u=document.getElementById("gameWin"),g=document.querySelector(".button-play-in"),b=document.querySelector(".button-pause"),w=document.getElementById("buttonSound"),y=document.getElementById("levelTwo"),p=document.getElementById("levelThree"),m=document.getElementById("levelFour"),v=document.getElementById("levelFive"),h=document.getElementById("countDeadBugs"),L=document.getElementById("android"),O={stepAndroid:10,goPlay:!0,sound:!1,counterLevel:1,levelOneFlag:!0,levelTwoFlag:!0,levelThreeFlag:!0,levelFourFlag:!0,levelFiveFlag:!0,victoryResults:null,creepBugs:null},F={x0:0,x1:0,x2:0,x3:0,x4:0,x5:0,x6:0,x7:0,x8:0,x9:0},R=new Audio,A=new Audio,T={},E={},N={},k={},B=['url("img/bg-Field.jpg")','url("img/bg-Field2.jpg")','url("img/bg-Field3.jpg")'],x=["audio/bugOrdinary.mp3","audio/bugArmoded.mp3","audio/bugManyFaces.mp3","audio/levelUp.mp3","audio/gameOver.mp3","audio/gameWin.mp3","audio/shot.mp3"],D=[];function I(o){for(var r={a:1,b:0,c:0,d:0};r.a<=5;){var t=document.createElement("div");t.setAttribute("id","row"+r.a),t.style.top=20+50*(r.a-1)+"px",t.style.pointerEvents="none",e.appendChild(t),r.a++}for(;r.b<=9;){var a=document.createElement("i");a.classList="fas fa-bug bugOrdinary",a.style.left=240+50*r.b+"px",row1.appendChild(a),row2.appendChild(a.cloneNode(!0)),row3.appendChild(a.cloneNode(!0)),row4.appendChild(a.cloneNode(!0)),row5.appendChild(a.cloneNode(!0)),F["x"+r.b]=a.offsetLeft,r.b++}for(T=Object.setPrototypeOf({},F),E=Object.setPrototypeOf({},F),N=Object.setPrototypeOf({},F),k=Object.setPrototypeOf({},F),L.style.color="rgb(48, 209, 88)",c.style.animation="bugDead 3.5s linear infinite";r.c<=1;)O.levelOneFlag||(row1.childNodes[4+r.c].classList="fas fa-spider bugOrdinary bugArmored",row2.childNodes[1+7*r.c].classList="fas fa-spider bugOrdinary bugArmored",row3.childNodes[4+r.c].classList="fad fa-bug bugOrdinary bugRowDown"),O.levelTwoFlag||(row2.childNodes[1+7*r.c].classList="far fa-bug bugOrdinary bugManyFaces",row2.childNodes[4+r.c].classList="fad fa-spider bugOrdinary bugRowDown2",row5.childNodes[1+7*r.c].classList="fad fa-bug bugOrdinary bugRowDown",row5.childNodes[4+r.c].classList="fas fa-spider bugOrdinary bugArmored",row5.childNodes[5+r.c].classList="fas fa-spider bugOrdinary bugArmored"),O.levelThreeFlag||(row1.childNodes[r.c].classList="fas fa-spider bugOrdinary bugArmored",row1.childNodes[8+r.c].classList="fas fa-spider bugOrdinary bugArmored",row2.childNodes[2+1*r.c].classList="fas fa-spider bugOrdinary bugArmored",row2.childNodes[6+1*r.c].classList="fas fa-spider bugOrdinary bugArmored",row3.childNodes[4+1*r.c].classList="fas fa-spider bugOrdinary bugArmored",row4.childNodes[1+7*r.c].classList="far fa-bug bugOrdinary bugManyFaces",row4.childNodes[2+r.c].classList="fas fa-spider bugOrdinary bugArmored",row4.childNodes[4+r.c].classList="far fa-bug bugOrdinary bugManyFaces",row4.childNodes[6+r.c].classList="fas fa-spider bugOrdinary bugArmored",row5.childNodes[r.c].classList="fas fa-spider bugOrdinary bugArmored",row5.childNodes[8+r.c].classList="fas fa-spider bugOrdinary bugArmored"),O.levelFourFlag||(row5.childNodes[0+2*r.c].classList="fad fa-spider bugOrdinary bugRowDown2",row5.childNodes[1+7*r.c].classList="fas fa-spider-black-widow bugOrdinary bugRowUp2",row5.childNodes[4+r.c].classList="fal fa-spider-black-widow bugOrdinary bugRowUp",row5.childNodes[3+3*r.c].classList="far fa-bug bugOrdinary bugManyFaces",row5.childNodes[7+2*r.c].classList="fad fa-spider bugOrdinary bugRowDown2"),r.c++;for(;r.d<=o;)O.levelOneFlag||(row4.childNodes[2+r.d].classList="fas fa-spider bugOrdinary bugArmored"),O.levelTwoFlag||(row3.childNodes[r.d].classList="fas fa-spider bugOrdinary bugArmored",row4.childNodes[r.d].classList="fas fa-spider bugOrdinary bugArmored"),O.levelThreeFlag||(row5.childNodes[3+r.c].classList="fad fa-bug bugOrdinary bugRowDown"),O.levelFourFlag||(row2.childNodes[r.d].classList="fas fa-spider bugOrdinary bugArmored",row3.childNodes[r.d].classList="fal fa-bug bugOrdinary bugArmoredManyFaces",row4.childNodes[r.d].classList="fas fa-spider bugOrdinary bugArmored"),O.levelFiveFlag||(row2.childNodes[r.d].classList="far fa-bug bugOrdinary bugManyFaces",row3.childNodes[r.d].classList="far fa-bug bugOrdinary bugManyFaces",row4.childNodes[r.d].classList="far fa-bug bugOrdinary bugManyFaces",row5.childNodes[r.d].classList="fal fa-bug bugOrdinary bugArmoredManyFaces"),r.d++;O.levelThreeFlag||(row2.childNodes[9].classList="fad fa-spider bugOrdinary bugRowDown2",row2.childNodes[0].classList="fal fa-spider-black-widow bugOrdinary bugRowUp",row4.childNodes[9].classList="fas fa-spider-black-widow bugOrdinary bugRowUp2",row4.childNodes[0].classList="fad fa-spider bugOrdinary bugRowDown2"),O.levelFourFlag||(row1.childNodes[9].classList="fas fa-spider-black-widow bugOrdinary bugRowUp2",row1.childNodes[0].classList="fal fa-spider-black-widow bugOrdinary bugRowUp"),O.levelFiveFlag||(row3.childNodes[2].classList="fal fa-spider-black-widow bugOrdinary bugRowUp",row3.childNodes[7].classList="fas fa-spider-black-widow bugOrdinary bugRowUp2",row4.childNodes[1].classList="fas fa-spider-black-widow bugOrdinary bugRowUp2",row4.childNodes[8].classList="fal fa-spider-black-widow bugOrdinary bugRowUp",row5.childNodes[0].classList="fal fa-spider-black-widow bugOrdinary bugRowUp",row5.childNodes[9].classList="fas fa-spider-black-widow bugOrdinary bugRowUp2")}function M(e,o){e.classList.add("fade-in"),e.classList.remove("fade-out"),o.classList.add("fade-out"),o.classList.remove("fade-in")}function P(e,o){e.classList.add("button-active"),e.classList.remove("button-no-active"),o.classList.add("button-no-active"),o.classList.remove("button-active")}function C(){if(!O.goPlay&&!O.sound){R.src=x[6];var e=R.play();null!==e&&e.catch((function(){R.play()}))}}function U(e){if(!O.goPlay&&!O.sound){A.src=e;var o=A.play();null!==o&&o.catch((function(){A.play()}))}}function S(){"fas fa-volume-up sound-on"==w.classList?w.classList="fas fa-volume-slash sound-off":w.classList="fas fa-volume-up sound-on",O.sound?O.sound=!1:O.sound=!0}function Y(){setTimeout((function(){l.style.animation="bugCreepFive 4s linear 2s",n.style.animation="bugCreepOne 7s linear",d.style.animation="bugCreepThree 6.8s linear .7s",f.style.animation="bugBlink 1.1s ease infinite"}),900),setTimeout((function(){l.style.animation="bugCreepSix 4s linear 1s",n.style.animation="bugCreepTwo 5s linear .5s",d.style.animation="bugCreepFour 3.5s linear 1s",f.style.animation="bugBlink 2s ease"}),9e3)}function q(){if(!O.goPlay){var o=document.createElement("div");o.classList="bullet fad fa-meteor",o.style.left=L.offsetLeft-5+"px",e.append(o),D.push({bullet:o,pos:o.offsetTop,newPos:o.offsetTop})}}function W(){function r(){e.querySelectorAll("div").forEach((function(e){e.remove()})),c.style.animation=""}function t(e,o){e.getBoundingClientRect(),o.getBoundingClientRect();var r,t,s=e.offsetHeight/2,i=o.offsetHeight/2;if(!((r=a(e),t=a(o),Math.sqrt(Math.pow(Math.abs(r.left-t.left),2)+Math.pow(Math.abs(r.top-t.top),2)))<s+i))return!1;switch(e.className){case"fas fa-bug bugOrdinary bugArmored":case"fas fa-spider bugOrdinary bugArmored":case"fal fa-spider bugOrdinary bugArmored":return e.style.animation="ascension-bug .8s linear",U(x[1]),e.classList.remove("bugArmored"),o.remove(),!1;case"fad fa-bug bugOrdinary bugRowDown bugRowDownArmored":case"fad fa-spider bugOrdinary bugRowDown2 bugRowDownArmored":return e.style.animation="ascension-bug .8s linear",U(x[1]),e.classList.remove("bugRowDownArmored"),o.remove(),!1;case"fal fa-spider-black-widow bugOrdinary bugRowUp bugRowUpArmored":case"fas fa-spider-black-widow bugOrdinary bugRowUp2 bugRowUpArmored":return e.style.animation="ascension-bug .8s linear",U(x[1]),e.classList.remove("bugRowUpArmored"),o.remove(),!1;case"far fa-bug bugOrdinary bugManyFaces":return U(x[2]),function(e){var o=document.createElement("span");o.classList="far fa-bug ascensionBugMany",e.appendChild(o);var r=["fas fa-bug bugOrdinary","fas fa-spider bugOrdinary","fad fa-bug bugOrdinary bugRowDown","fad fa-spider bugOrdinary bugRowDown2","fal fa-spider-black-widow bugOrdinary bugRowUp"],t=r[Math.floor(Math.random()*r.length)];e.classList=t}(e),o.remove(),!1;case"fal fa-bug bugOrdinary bugArmoredManyFaces":return U(x[2]),function(e){var o=document.createElement("span");o.classList="fal fa-bug ascensionBugManyArm",e.appendChild(o);var r=["fas fa-bug bugOrdinary bugArmored","fas fa-spider bugOrdinary bugArmored","fad fa-bug bugOrdinary bugRowDown bugRowDownArmored","fad fa-spider bugOrdinary bugRowDown2 bugRowDownArmored","fas fa-spider-black-widow bugOrdinary bugRowUp2 bugRowUpArmored","fal fa-spider-black-widow bugOrdinary bugRowUp bugRowUpArmored"],t=r[Math.floor(Math.random()*r.length)];e.classList=t}(e),o.remove(),!1;case"fad fa-bug bugOrdinary bugRowDown":return d.directionRow=d.directionRow+1,U(x[0]),e.remove(),o.remove(),!1;case"fad fa-spider bugOrdinary bugRowDown2":return d.directionRow=d.directionRow+2,U(x[0]),e.remove(),o.remove(),!1;case"fal fa-spider-black-widow bugOrdinary bugRowUp":return d.directionRow=d.directionRow-1,U(x[0]),e.remove(),o.remove(),!1;case"fas fa-spider-black-widow bugOrdinary bugRowUp2":return d.directionRow=d.directionRow-2,U(x[0]),e.remove(),o.remove(),!1;default:return U(x[0]),e.remove(),o.remove(),!1}}function a(e){var o=e.getBoundingClientRect(),r=o.top+pageYOffset,t=o.left+pageXOffset;return{top:r+e.offsetHeight/2,left:t+e.offsetWidth/2}}O.goPlay=!1;var l={one:document.getElementById("row1"),two:document.getElementById("row2"),three:document.getElementById("row3"),four:document.getElementById("row4"),five:document.getElementById("row5")},n={one:l.one.querySelectorAll("i"),two:l.two.querySelectorAll("i"),three:l.three.querySelectorAll("i"),four:l.four.querySelectorAll("i"),five:l.five.querySelectorAll("i")},d={offsetOne:2,offsetTwo:2,offsetThree:2,offsetFour:2,offsetFive:2,offsetYrowOne:l.one.offsetTop,offsetYrowTwo:l.two.offsetTop,offsetYrowThree:l.three.offsetTop,offsetYrowFour:l.four.offsetTop,offsetYrowFive:l.five.offsetTop,direction1:1,direction2:1,direction3:1,direction4:1,direction5:-1,directionRow:1};O.levelTwoFlag||(d.offsetOne=2,d.offsetTwo=2.4,d.offsetThree=2.3,d.offsetFour=2.8),O.levelThreeFlag||(d.offsetOne=3.1,d.offsetTwo=3.2,d.offsetThree=3.3,d.offsetFour=3.4,d.offsetFive=3.5),O.levelFourFlag||(d.offsetOne=4.1,d.offsetTwo=4,d.offsetThree=3,d.offsetFour=4,d.offsetFive=4),O.levelFiveFlag||(d.offsetOne=5,d.offsetTwo=5,d.offsetThree=5,d.offsetFour=5,d.offsetFive=5);window.requestAnimationFrame=function(e){clearTimeout(window.rafTimer),window.rafTimer=setTimeout(e,1e3/(window.maxFPS||60))};var f,g=performance.now(),b=0;requestAnimationFrame((function a(){for(f=performance.now(),b+=(f-g)/1e3;b>1/60;)b-=1/60,O.goPlay||(D.forEach((function(r){r.bullet.style.bottom=r.pos-(r.newPos-=15)+"px",r.newPos<0&&(r.bullet.remove(),D.shift(r)),r.bullet.getBoundingClientRect().top<o.getBoundingClientRect().top-5&&r.bullet.remove(),r.bullet.getBoundingClientRect().top<l.five.getBoundingClientRect().bottom&&e.querySelectorAll(".bugOrdinary").forEach((function(e){t(e,r.bullet)}))})),e.querySelectorAll("i").forEach((function(o,t){O.victoryResults=t,o.getBoundingClientRect().top>=L.getBoundingClientRect().bottom-70&&(L.style.animation="ascension-android 1s linear",L.style.color="rgb(28, 28, 30)",U(x[4]),O.goPlay=!0,r(),M(i,e),Y(),creepBugs=setInterval(Y,14700))})),s.innerHTML=O.counterLevel,h.innerHTML=O.victoryResults,0==O.victoryResults&&(O.counterLevel++,2==O.counterLevel&&(U(x[3]),M(y,e),O.goPlay=!0,O.levelOneFlag=!0,r()),3==O.counterLevel&&(U(x[3]),M(p,e),O.goPlay=!0,O.levelTwoFlag=!0,r()),4==O.counterLevel&&(U(x[3]),M(m,e),O.goPlay=!0,O.levelThreeFlag=!0,r()),5==O.counterLevel&&(U(x[3]),M(v,e),O.goPlay=!0,O.levelFourFlag=!0,r()),6==O.counterLevel&&(U(x[5]),M(u,e),O.goPlay=!0,r())),d.offsetYrowOne+=.1*d.directionRow,d.offsetYrowTwo+=.1*d.directionRow,d.offsetYrowThree+=.1*d.directionRow,d.offsetYrowFour+=.1*d.directionRow,d.offsetYrowFive+=.1*d.directionRow,d.offsetYrowOne<15&&(d.directionRow=1.5),n.one.forEach((function(o,r){F["x"+r]+=d.offsetOne*d.direction1,e.offsetWidth<=o.offsetLeft+o.offsetWidth&&(d.direction1=-1),o.offsetLeft<-1&&(d.direction1=1)})),n.two.forEach((function(o,r){T["x"+r]-=d.offsetTwo*d.direction2,o.offsetLeft<-1&&(d.direction2=-1),e.offsetWidth<=o.offsetLeft+o.offsetWidth&&(d.direction2=1)})),n.three.forEach((function(o,r){E["x"+r]+=d.offsetThree*d.direction3,e.offsetWidth<=o.offsetLeft+o.offsetWidth&&(d.direction3=-1),o.offsetLeft<-1&&(d.direction3=1)})),n.four.forEach((function(o,r){N["x"+r]-=d.offsetFour*d.direction4,o.offsetLeft<-1&&(d.direction4=-1),e.offsetWidth<=o.offsetLeft+o.offsetWidth&&(d.direction4=1)})),n.five.forEach((function(o,r){k["x"+r]-=d.offsetFive*d.direction5,e.offsetWidth<=o.offsetLeft+o.offsetWidth&&(d.direction5=1),o.offsetLeft<-1&&(d.direction5=-1)})));g=f,n.one.forEach((function(e,o){e.style.left=F["x"+o]+"px"})),n.two.forEach((function(e,o){e.style.left=T["x"+o]+"px"})),n.three.forEach((function(e,o){e.style.left=E["x"+o]+"px"})),n.four.forEach((function(e,o){e.style.left=N["x"+o]+"px"})),n.five.forEach((function(e,o){e.style.left=k["x"+o]+"px"})),l.one.style.top=d.offsetYrowOne+"px",l.two.style.top=d.offsetYrowTwo+"px",l.three.style.top=d.offsetYrowThree+"px",l.four.style.top=d.offsetYrowFour+"px",l.five.style.top=d.offsetYrowFive+"px",requestAnimationFrame(a)}))}document.addEventListener("click",(function(o){var s=o.target.dataset.game;if(s)switch(s){case"play":M(e,r),e.style.backgroundImage=B[0],O.levelOneFlag=!1,I(5),W();break;case"option":M(t,r);break;case"specification":M(a,r),a.querySelectorAll(".bug-no-active").forEach((function(e){e.classList.remove("bug-no-active"),e.classList.add("bug-active")}));break;case"backMenu":M(r,t),a.querySelectorAll(".bug-active").forEach((function(e){e.classList.remove("bug-active"),e.classList.add("bug-no-active")}));break;case"backMenu2":M(r,a);break;case"playInGame":O.goPlay=!1,P(g,b);break;case"pause":O.goPlay=!0,P(b,g);break;case"sound":S();break;case"levelTwo":M(e,y),e.style.backgroundImage=B[1],O.levelTwoFlag=!1,I(9),W();break;case"levelThree":M(e,p),O.levelThreeFlag=!1,I(3),W();break;case"levelFour":M(e,m),O.levelFourFlag=!1,I(9),W();break;case"levelFive":M(e,v),e.style.backgroundImage=B[2],O.levelFiveFlag=!1,I(9),W();break;case"winRestartGame":O.counterLevel=1,O.levelOneFlag=!0,O.levelTwoFlag=!0,O.levelThreeFlag=!0,O.levelFourFlag=!0,O.levelFiveFlag=!0,M(r,u);break;case"restartGame":O.counterLevel=1,O.levelOneFlag=!0,O.levelTwoFlag=!0,O.levelThreeFlag=!0,O.levelFourFlag=!0,O.levelFiveFlag=!0,clearInterval(creepBugs),M(r,i)}})),o.addEventListener("click",(function(){q(),C()})),document.addEventListener("keydown",(function(o){if(!O.goPlay){var r=L.offsetLeft;"ArrowLeft"==o.key||"KeyA"==o.code?(o.preventDefault(),L.style.left=r-O.stepAndroid+"px",arrowRight.style.color="",arrowLeft.style.color="rgb(48, 209, 88)"):"ArrowRight"!=o.key&&"KeyD"!=o.code||(o.preventDefault(),L.style.left=r+O.stepAndroid+"px",arrowLeft.style.color="",arrowRight.style.color="rgb(48, 209, 88)"),L.offsetLeft<30&&(L.style.left=r+O.stepAndroid-10+"px",arrowLeft.style.color="rgb(255, 69, 58)"),e.offsetWidth<L.offsetLeft+L.offsetWidth-60&&(L.style.left=r-O.stepAndroid+10+"px",arrowRight.style.color="rgb(255, 69, 58)")}})),document.addEventListener("keyup",(function(e){"ArrowLeft"!=e.key&&"KeyA"!=e.code||(e.preventDefault(),arrowLeft.style.color=""),"ArrowRight"!=e.key&&"KeyD"!=e.code||(e.preventDefault(),arrowRight.style.color=""),"ArrowDown"!=e.code&&"ControlRight"!=e.code&&"ControlLeft"!=e.code&&"KeyS"!=e.code||(e.preventDefault(),q(),C()),"Space"==e.code&&(e.preventDefault(),O.goPlay?(O.goPlay=!1,P(g,b)):(O.goPlay=!0,P(b,g))),"ShiftRight"!=e.code&&"ShiftLeft"!=e.code||(e.preventDefault(),S())}))}()}));